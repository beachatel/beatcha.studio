import { jsx as v } from "react/jsx-runtime";
import { c as k } from "./P5CanvasGuard-TAOYOyUP.js";
import * as r from "react";
import { CanvasContainerClassName as C } from "./main.es.js";
import P from "p5";
function d(t) {
  t.current?.remove(), t.current = null;
}
function E(t, e) {
  return new P(t, e);
}
function R(t, e, n) {
  return e.current === null ? null : (d(t), E(n, e.current));
}
function b(t, e) {
  return e.length === 0 ? t : Object.keys(t).filter((n) => !e.includes(n)).reduce((n, c) => (n[c] = t[c], n), {});
}
const I = (t) => {
  const e = k.c(12), n = r.useRef(null), c = r.useRef(null);
  let l;
  e[0] !== t ? (l = b(t, ["sketch", "fallback", "loading", "error", "children"]), e[0] = t, e[1] = l) : l = e[1];
  const s = l;
  let a, i;
  e[2] !== t.sketch ? (a = () => {
    c.current = R(c, n, t.sketch);
  }, i = [t.sketch], e[2] = t.sketch, e[3] = a, e[4] = i) : (a = e[3], i = e[4]), r.useEffect(a, i);
  let u, f;
  e[5] !== s ? (u = () => {
    c.current?.updateWithProps?.(s);
  }, f = [s, n, c], e[5] = s, e[6] = u, e[7] = f) : (u = e[6], f = e[7]), r.useEffect(u, f);
  let o, m;
  e[8] === Symbol.for("react.memo_cache_sentinel") ? (o = () => () => d(c), m = [], e[8] = o, e[9] = m) : (o = e[8], m = e[9]), r.useEffect(o, m);
  let h;
  return e[10] !== t.children ? (h = /* @__PURE__ */ v("div", { ref: n, className: C, "data-testid": "canvas-container", children: t.children }), e[10] = t.children, e[11] = h) : h = e[11], h;
};
export {
  I as default
};
